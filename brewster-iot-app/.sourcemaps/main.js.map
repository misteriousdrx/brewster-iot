{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 161;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 161\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 205;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 205\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, AlertController, LoadingController } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from \"rxjs/Rx\"\n\n@Component({\n\tselector: 'page-home',\n\ttemplateUrl: 'home.html'\n})\nexport class HomePage {\n\n\thost: string = 'localhost';\n\tporta: number = 3000;\n\tmodoManual: boolean;\n\testadoSwitch: boolean;\n\tisConectado: boolean;\n\ttempIdeal: number;\n\ttempTolerancia: number;\n\ttempAtual: number;\n\tdescStatus: string;\n\n\turlBase: string = '';\n\n\tconstructor(public navCtrl: NavController, private httpClient: HttpClient, public alertCtrl: AlertController, public loadingCtrl: LoadingController) {\n\t\tthis.isConectado = false;\n\t}\n\n\tconectar() {\n\n\t\tif (this.host.indexOf('http://') > -1) {\n\t\t\tthis.urlBase = this.host + ':' + this.porta;\n\t\t} else {\n\t\t\tthis.urlBase = 'http://' + this.host + ':' + this.porta;\n\t\t}\n\n\t\tthis.httpClient.get(this.urlBase)\n\t\t\t.subscribe(data => {\n\t\t\t\tthis.atualizar();\n\t\t\t}, error => {\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Erro',\n\t\t\t\t\tsubTitle: 'Erro ao se conectar ao servidor. Verifique se o endereço está correto.',\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t});\n\n\t\t\t\talert.present();\n\t\t\t\tconsole.log(error);\n\n\t\t\t\tthis.isConectado = false;\n\t\t\t});\n\t}\n\n\tdesconectar() {\n\t\tthis.isConectado = false;\n\t}\n\n\tdefinirModos() {\n\t\tvar obj = {\n\t\t\tswitchStatus: this.estadoSwitch,\n\t\t\tmanualMode: this.modoManual\n\t\t};\n\n\t\tthis.httpClient.post(this.urlBase + '/switch', obj)\n\t\t\t.subscribe(data => {\n\t\t\t\t// NOTHING TO DO\n\t\t\t}, error => {\n\t\t\t\tthis.isConectado = false;\n\n\t\t\t\tconsole.log(error);\n\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Erro!',\n\t\t\t\t\tsubTitle: 'Erro ao conectar: ' + error,\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t});\n\n\t\t\t\talert.present();\n\t\t\t});\n\t}\n\n\tdefinirTemperaturas() {\n\t\tvar obj = {\n\t\t\ttemperatura : {\n\t\t\t\tsetPoint: this.tempIdeal,\n\t\t\t\ttolerance: this.tempTolerancia\n\t\t\t}\n\t\t};\n\n\t\tthis.httpClient.post(this.urlBase + '/temperaturas', obj)\n\t\t\t.subscribe(data => {\n\t\t\t\t// NOTHING TO DO\n\t\t\t}, error => {\n\t\t\t\tthis.isConectado = false;\n\n\t\t\t\tconsole.log(error);\n\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Erro!',\n\t\t\t\t\tsubTitle: 'Erro ao conectar: ' + error,\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t});\n\n\t\t\t\talert.present();\n\t\t\t});\n\t}\n\n\tatualizar() {\n\t\tthis.getStatus();\n\t\tthis.getTemperaturas();\n\t}\n\n\tatualizarStatus() {\n\n\t\tObservable.interval(10000)\n\t\t\t.takeWhile(() => this.isConectado)\n\t\t\t.subscribe(i => {\n\t\t\t\tthis.getStatus();\n\n\t\t\t\tthis.httpClient.get(this.urlBase + '/temperaturas')\n\t\t\t\t\t.subscribe(data => {\n\t\t\t\t\t\tlet temps = data['temperatura'];\n\t\t\t\t\t\tthis.tempAtual = temps.current;\n\t\t\t\t\t}, error => {\n\t\t\t\t\t\tthis.isConectado = false;\n\n\t\t\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\t\t\ttitle: 'Erro!',\n\t\t\t\t\t\t\tsubTitle: 'Erro ao conectar: ' + error,\n\t\t\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\talert.present();\n\t\t\t\t\t});\n\t\t\t})\n\n\t}\n\n\tgetStatus() {\n\t\tthis.httpClient.get(this.urlBase + '/switch')\n\t\t\t.subscribe(data => {\n\t\t\t\tthis.estadoSwitch = data['switchStatus'];\n\t\t\t\tthis.modoManual = data['manualMode'];\n\t\t\t\tthis.descStatus = (this.estadoSwitch) ? 'Ligado' : 'Desligado';\n\t\t\t\tthis.isConectado = true;\n\t\t\t}, error => {\n\t\t\t\tthis.isConectado = false;\n\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Erro!',\n\t\t\t\t\tsubTitle: 'Erro ao conectar: ' + error,\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t});\n\n\t\t\t\talert.present();\n\t\t\t});\n\t}\n\n\tgetTemperaturas() {\n\t\tthis.httpClient.get(this.urlBase + '/temperaturas')\n\t\t\t.subscribe(data => {\n\t\t\t\tlet temps = data['temperatura'];\n\n\t\t\t\tthis.tempIdeal = temps.setPoint;\n\t\t\t\tthis.tempTolerancia = temps.tolerance;\n\t\t\t\tthis.tempAtual = temps.current;\n\n\t\t\t\tthis.atualizarStatus();\n\t\t\t}, error => {\n\t\t\t\tthis.isConectado = false;\n\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Erro!',\n\t\t\t\t\tsubTitle: 'Erro ao conectar: ' + error,\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t});\n\n\t\t\t\talert.present();\n\t\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n\tBrowserModule,\n\tHttpClientModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}